<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--Import Google Icon Font-->
<!--     <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> -->

    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>

    <!--Custom css -->
    <link type="text/css" rel="stylesheet" href="css/custom.css"  media="screen,projection"/>

    <title>Standar out</title>
</head>
<body>

    <div class="container">
        <div id="main">
            <div class="row">
                <h5>Texto a enviar al stdout del pod</h5>
            </div>
            <div class="row">
                <form class="col s12">
                    <div class="row">
                        <div class="input-field col s12">
                            <textarea id="textarea1" class="materialize-textarea"></textarea>
                            <label for="textarea1">Textarea</label>
                        </div>
                    </div>
                </form>
                <button class="btn waves-effect waves-light" onclick="onEnviar()">Enviar
                    <i class="material-icons right">send</i>
                </button>
            </div>
        </div>
    </div>
    
    <!--JavaScript at end of body for optimized loading-->
    <script type="text/javascript" src="js/materialize.min.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script>
        async function onEnviar() {
            var texto = document.getElementById('textarea1').value

            console.log(texto)

            let opciones = {
                method: 'POST',
                body: JSON.stringify({ stdout: texto }),
                headers:{ 'Content-Type': 'application/json' }
            }

            const res = await fetch('api/stdout', opciones)
            return await res.json()
        }
    </script>

</body>
</html>
